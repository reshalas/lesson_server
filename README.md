# Установка

## Устанавливаем Rust
Для для установки rust в терминал вводим: `curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh` 


## Поднимаем бд
Этот проект использует такую базу данных как Postgresql. Устанавливаем Posgres, затем создаем базу данных. Переходим в папку с проектом и кoмандой `\i sql/create_tables.sql` создаем таблицы


## .env
Создаем файл '.env' в папке с проектом. Его содержание должно быть примерно таким:
``` .env
DATABASE_URL=путь_базы_данных
PORT=порт
EMAIL_ADDRES=email_аддрес_компании
SMTP_KEY=апи_ключ_к_смтп
```


# Запуск
Вводим команду `cargo run`. Ждем пока скачаются и соберутся все бибилиотеки, и если мы всё сделалали правильно у нас все запустится без ошибок

# Пространства

## /users

### GET запросы

`/users/get`


Возвращает активного пользователя по данным для входа. Данные должны быть в заголовках `username` и `password`.


===


`/users/register`


Создает нового неактивного польователя, для его активации используется `/verefication/email/verfy/{username}/{verefication_key}`, но об этом позже. Принимает данные, упакованные в json такого типа:

```json
{
	"username" : "имя_пользователя", //string //Ошибка если имя пользователя состоит из менее чем 2 или более чем 128 символов
	"password" : "пароль", //string //Ошибка если пароль состоит из менее чем 8 или более чем 50 символов
	"email" : "email_аддрес", //string //Ошибка если аддрес электронной почты уже содержится в базе данных, даже в неактивных пользователях
	"first_name" : "фамилия", //strng 
	"last_name" :"имя",   //string
	"location_data" : {
		"city" : "город/деревня/городок",    //string
		"country" : "страна"  //string
	},
	"class" : 1,   //number //Ошибка если класс меньше первого, или больше 11
	"school" : 1   //number //Ошибка если номер школы меньше или равен 0, или больше 1000
}


```